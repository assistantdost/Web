{% extends "base.html" %} {% block title %}Forgot Password | DOST{% endblock %}
{% block preload %} {% endblock %} {% block css %}
<link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
    crossorigin="anonymous"
/>
<!-- <link href="{{ url_for('static', filename='css/bootstrap.css') }}" rel="stylesheet" type="text/css"> -->
<!--Now using directly bootstrap.css cdn -->
<link
    href="{{ url_for('static', filename='css/style.css') }}"
    rel="stylesheet"
    type="text/css"
/>
<!-- Font Awesome CSS -->
<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
/>
{% endblock %}

<!-- Navbar -->
{% block login %} active{% endblock %} {% block body %}
<!-- Enter Body Block Here -->

<!--forgot pass-->
<div class="container vh-100" id="forgotPass">
    <div class="row d-flex justify-content-center mt-5">
        <div class="col-12 col-md-8 col-lg-6">
            <div
                class="card shadow-lg forgotPassCard bg-dark text-light pt-2 mt-5"
                style="border-width: 0px"
            >
                <div class="card-body px-sm-5 pt-2">
                    <form
                        class="mb-3 mt-md-4"
                        action="/forgotPass"
                        method="POST"
                    >
                        <div class="display-4 mb-5 fw-semibold text-center">
                            Verification
                        </div>
                        <div>
                            <div class="container" style="max-width: 400px">
                                <div class="row">
                                    <div class="col-12">
                                        <label for="email" class="form-label"
                                            >Enter email address :
                                            <p
                                                class="innerEle"
                                                id="innerEmail"
                                            ></p>
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 input-group">
                                        <input
                                            type="email"
                                            class="form-control forgotPassForm"
                                            name="email"
                                            id="registeredEmail"
                                            placeholder="name@example.com"
                                        />
                                        <span
                                            class="input-group-text forgotPassForm"
                                            id="basic-addon1"
                                        >
                                            <img
                                                src="/static/assets/exclamation.png"
                                                alt="exclamation"
                                                id="registeredEmailCheck"
                                                data-bs-toggle="tooltip"
                                                data-bs-title="Email not found!"
                                            />
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div
                                class="container mt-3 hidden"
                                id="forgotPassOtp"
                                style="max-width: 400px"
                            >
                                <div class="row justify-content-md-center">
                                    <div class="col-12">
                                        <label for="otp" class="form-label"
                                            >Enter OTP :
                                        </label>
                                    </div>
                                </div>
								<div class="row justify-content-md-center mb-5">
								  <div class="col-2">
									<input
									  type="text"
									  class="form-control forgotPassForm text-center otp"
									  name="otp"
									  oninput="handleInput(0)"
									  autofocus
									/>
								  </div>
								  <div class="col-2">
									<input
									  type="text"
									  class="form-control forgotPassForm text-center otp"
									  name="otp"
									  oninput="handleInput(1)"
									/>
								  </div>
								  <div class="col-2">
									<input
									  type="text"
									  class="form-control forgotPassForm text-center otp"
									  name="otp"
									  oninput="handleInput(2)"
									/>
								  </div>
								  <div class="col-2">
									<input
									  type="text"
									  class="form-control forgotPassForm text-center otp"
									  name="otp"
									  oninput="handleInput(3)"
									/>
								  </div>
								  <div class="col-2">
									<input
									  type="text"
									  class="form-control forgotPassForm text-center otp"
									  name="otp"
									  oninput="handleInput(4)"
									/>
								  </div>
								  <div class="col-2">
									<input
									  type="text"
									  class="form-control forgotPassForm text-center otp"
									  name="otp"
									  oninput="handleInput(5)"
									/>
								  </div>
								</div>
                            </div>
                        </div>
                        <div class="d-grid justify-content-center mt-4">
                            <button
                                class="btn btn-success px-5"
                                id="forgotPassBtn"
                                type="button"
                                disabled
                            >
                                Submit
                            </button>
                        </div>
                        <div class="container hidden" id="forgotPassResend">
                            <div class="row mt-4" id="resendLine">
                                <div class="col-12">
                                    <p class="mb-0 text-center small">
                                        Didn't receive OTP? &nbsp &nbsp|&nbsp
                                        <a
                                            href="#"
                                            class="text-info fw-bold loginLink"
                                            id="otpResend"
                                            >ResendÂ again
                                            <svg
                                                xmlns="http://www.w3.org/2000/svg"
                                                height="1em"
                                                viewBox="0 0 448 512"
                                            >
                                                <style>
                                                    svg {
                                                        fill: #0dcaf0;
                                                    }
                                                </style>
                                                <path
                                                    d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"
                                                />
                                            </svg>
                                        </a>
                                    </p>
                                </div>
                            </div>
                            <div class="row mt-4 hidden" id="resendTimer">
                                <div class="col-12">
                                    <p
                                        class="mb-0 text-center small fw-bold"
                                        style="color: #0393b0"
                                        id="timer"
                                    >
                                        Resend in : 30 sec
                                    </p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %} {% block script %}
<!-- <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script> -->
<!-- Now directly using bootstrap.js cdn -->
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"
></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<!-- Font Awesome JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
<!-- <script>
    // OTP
    if (otp) {
        for (let j = 1; j <= 5; j++) {
            document
                .getElementById(`otpInput${j}`)
                .addEventListener("keyup", function () {
                    if (
                        document.getElementById(`otpInput${j}`).value.length >=
                        1
                    ) {
                        document.getElementById(`otpInput${j + 1}`).focus();
                    }
                });
        }
        for (let k = 6; k > 1; k--) {
            document
                .getElementById(`otpInput${k}`)
                .addEventListener("keyup", function (event) {
                    const key = event.key;
                    if (key === "Backspace") {
                        document.getElementById(`otpInput${k - 1}`).focus();
                    }
                });
        }
        document
            .getElementById("otpButton")
            .addEventListener("click", function () {
                let receivedOtp = "";
                for (let i = 0; i < 6; i++) {
                    receivedOtp += document.getElementById(
                        `otpInput${i + 1}`
                    ).value;
                }
                console.log(receivedOtp);
                // Change kar lena jo daalna hai
                if (receivedOtp === correctOtp) {
                    notification("alert-success", "Correct OTP!");
                    window.location.href = "/status";
                } else {
                    notification("alert-danger", "Wrong OTP,try again");
                }
            });
    }
</script> -->
{% endblock %}
